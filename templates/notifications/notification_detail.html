{% extends "base.html" %}
{% load static %}

{% block title %}تفاصيل التنبيه — سامي لينك{% endblock %}

{% block extra_head %}
<style>
  .detail-card{border-radius:1.25rem; transition:box-shadow .2s}
  .detail-card:hover{box-shadow:0 18px 36px -18px rgba(0,0,0,.2)}
</style>
{% endblock %}

{% block content %}
<header class="mb-8">
  <a href="{% url 'notifications:list' %}" class="inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition">
    <i class="fas fa-arrow-right"></i>
    <span>رجوع للتنبيهات</span>
  </a>
</header>

<article class="detail-card border border-slate-200 dark:border-slate-700 p-6 bg-white dark:bg-slate-900">
  <div class="flex items-start gap-4">
    <div class="w-14 h-14 rounded-2xl grid place-items-center text-white shadow"
         style="background-image:linear-gradient(135deg,#0284c7,#075985);">
      <i class="fas fa-bell"></i>
    </div>
    <div class="flex-1">
      <div class="flex items-center justify-between gap-3">
        <h1 class="text-2xl font-black text-slate-800 dark:text-slate-100">{{ n.title|default:"تنبيه" }}</h1>
        <span class="text-xs text-slate-500 dark:text-slate-400">{{ n.created_at|date:"Y-m-d H:i" }}</span>
      </div>

      {% if n.body %}
        <p class="mt-3 text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-line">{{ n.body }}</p>
      {% else %}
        <p class="mt-3 text-slate-600 dark:text-slate-400">لا يوجد وصف إضافي لهذا التنبيه.</p>
      {% endif %}

      <div class="mt-6 flex items-center flex-wrap gap-2">
        {% if n.is_read %}
          <span class="chip chip-read">مقروء</span>
        {% else %}
          <span class="chip chip-unread">غير مقروء</span>
          <a href="{% url 'notifications:mark_read' n.id %}" class="px-3 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 transition">
            <i class="fas fa-check mr-1"></i> تعليم كمقروء
          </a>
        {% endif %}

        {% if n.url %}
          <a href="{{ n.get_absolute_url }}" class="px-3 py-2 rounded-lg text-primary-700 dark:text-primary-300 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition">
            <i class="fas fa-link mr-1"></i> فتح الرابط المرتبط
          </a>
        {% endif %}

        <a href="{% url 'notifications:delete' n.id %}" class="px-3 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition" onclick="return confirm('حذف هذا التنبيه؟');">
          <i class="fas fa-trash mr-1"></i> حذف
        </a>
      </div>
    </div>
  </div>
</article>
{% endblock %}
