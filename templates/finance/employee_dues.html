{# finance/templates/finance/employee_dues.html #}
{% extends "base.html" %}
{% load humanize %}

{% block title %}Ù…Ø³ØªØ­Ù‚Ø§ØªÙŠ{% endblock %}

{% block content %}
<section class="page-section employee-dues-page">
  <div class="container">

    {# =================== Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© =================== #}
    <div class="section-header" style="text-align: right; margin-bottom: 2rem;">
      <div class="section-badge">
        ğŸ‘¨â€ğŸ’» Ù…Ø³ØªØ­Ù‚Ø§ØªÙŠ
      </div>
      <h1 class="section-title">
        Ù…Ø³ØªØ­Ù‚Ø§ØªÙŠ
      </h1>
      <p class="section-description">
        Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ØªØ¹Ø±Ø¶ Ù…Ø³ØªØ­Ù‚Ø§ØªÙƒ ÙƒÙ…ÙˆØ¸Ù ØªÙ‚Ù†ÙŠ.
        <span style="color: var(--dark-500);">(Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© ØªÙØ®ØµÙ… Ù…Ù†Ùƒ â€” VAT Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙÙ‚Ø·)</span>
      </p>
    </div>

    {# =================== ÙÙ„Ø§ØªØ± Ø§Ù„Ø¨Ø­Ø« =================== #}
    <div class="profile-section" style="margin-bottom: 2rem;">
      <form method="get" class="filter-form">
        <div class="filter-grid" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 1rem;">
          <div class="form-field">
            <label class="form-label">ğŸ“Š Ø­Ø§Ù„Ø© ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
            <select name="status" class="input">
              <option value="" {% if not status_q %}selected{% endif %}>Ø§Ù„ÙƒÙ„</option>
              <option value="unpaid" {% if status_q == "unpaid" %}selected{% endif %}>ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©</option>
              <option value="paid" {% if status_q == "paid" %}selected{% endif %}>Ù…Ø¯ÙÙˆØ¹Ø©</option>
            </select>
          </div>

          <div class="form-field">
            <label class="form-label">ğŸ’³ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©</label>
            <select name="method" class="input">
              <option value="" {% if not method_q %}selected{% endif %}>Ø§Ù„ÙƒÙ„</option>
              {% for m in methods %}
              <option value="{{ m }}" {% if method_q == m %}selected{% endif %}>{{ m }}</option>
              {% endfor %}
            </select>
          </div>

          <div class="form-field">
            <label class="form-label">ğŸ“… Ù…Ù†</label>
            <input type="date" name="from" value="{{ date_from }}" class="input">
          </div>

          <div class="form-field">
            <label class="form-label">ğŸ“… Ø¥Ù„Ù‰</label>
            <input type="date" name="to" value="{{ date_to }}" class="input">
          </div>

          <div class="form-field" style="grid-column: span 2;">
            <label class="form-label">ğŸ” Ø¨Ø­Ø«</label>
            <input type="text" name="q" value="{{ q }}" class="input"
                   placeholder="Ø±Ù‚Ù… Ø·Ù„Ø¨/Ø§ØªÙØ§Ù‚ÙŠØ©/Ù…Ø±Ø¬Ø¹">
          </div>
        </div>

        <div class="form-actions" style="margin-top: 1rem; text-align: left;">
          <button class="btn btn-primary btn-sm">
            ğŸ” ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„Ø§ØªØ±
          </button>
        </div>
      </form>
    </div>

    {# =================== Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª =================== #}
    <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
      
      <div class="profile-section" style="background: linear-gradient(135deg, var(--primary-50) 0%, var(--white) 100%);">
        <div class="card-section-title">ğŸ’° Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª (ØµØ§ÙÙŠ)</div>
        <div class="stat-value" style="font-size: 2rem; font-weight: 800; color: var(--primary-600); margin: 0.5rem 0;">
          {{ totals.net_total|default:"0"|floatformat:2 }} Ø±.Ø³
        </div>
        <div class="card-section-note">P âˆ’ Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù…Ù†ØµÙ‘Ø©</div>
      </div>

      <div class="profile-section" style="background: linear-gradient(135deg, var(--primary-100) 0%, var(--white) 100%);">
        <div class="card-section-title">âœ… ØªÙ… ØµØ±ÙÙ‡ Ù„Ùƒ</div>
        <div class="stat-value" style="font-size: 2rem; font-weight: 800; color: var(--primary-600); margin: 0.5rem 0;">
          {{ totals.net_paid|default:"0"|floatformat:2 }} Ø±.Ø³
        </div>
        <div class="card-section-note">Ø­Ø³Ø¨ Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØµØ±Ù Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø©</div>
      </div>


      <div class="profile-section" style="background: linear-gradient(135deg, var(--dark-50) 0%, var(--white) 100%);">
        <div class="card-section-title">ğŸ“Š Ù…ØªØ¨Ù‚ÙŠ Ù„Ùƒ</div>
        <div class="stat-value" style="font-size: 2rem; font-weight: 800; color: var(--dark-700); margin: 0.5rem 0;">
          {{ totals.net_unpaid|default:"0"|floatformat:2 }} Ø±.Ø³
        </div>
        <div class="card-section-note">Ø¥Ø¬Ù…Ø§Ù„ÙŠ ØµØ§ÙÙŠ âˆ’ Ø§Ù„Ù…ØµØ±ÙˆÙ Ù„Ùƒ</div>
      </div>
    </div>

    {# =================== Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª =================== #}
    <div class="profile-section">
      <div class="card-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <h3 class="card-section-title">ğŸ“Œ ØªÙØ§ØµÙŠÙ„ Ù…Ø³ØªØ­Ù‚Ø§ØªÙŠ</h3>
        <div class="card-section-note">Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: {{ now|date:"Y-m-d H:i" }}</div>
      </div>

      <div class="table-wrapper">
        <table class="table table-clean">
          <thead>
            <tr>
              <th>#</th>
              <th>Ø§Ù„Ø§ØªÙØ§Ù‚ÙŠØ© / Ø§Ù„Ø·Ù„Ø¨</th>
              <th>Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®Ø¯Ù…Ø© (P)</th>
              <th>Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù…Ù†ØµÙ‘Ø©</th>
              <th>ØµØ§ÙÙŠ Ù…Ø³ØªØ­Ù‚Ùƒ</th>
              <th>Ø­Ø§Ù„Ø© ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
              <th>Ø­Ø§Ù„Ø© Ø§Ù„ØµØ±Ù Ù„Ùƒ</th>
              <th>Ù…ÙˆØ¹Ø¯ Ø§Ù„ØµØ±Ù</th>
              <th>Ø§Ù„Ø¥ØµØ¯Ø§Ø±</th>
              <th>Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
            </tr>
          </thead>

          <tbody>
            {% for row in rows %}
              {% with inv=row.invoice ag=row.agreement req=row.request payout=row.payout %}
              <tr class="scroll-reveal">

                <td class="text-muted">#{{ inv.id }}</td>

                <td>
                  <div class="table-cell-main">
                    <div class="table-cell-title">
                      A{{ ag.id }}
                      {% if req %}
                        / R{{ req.id }} {{ req.title }}
                      {% endif %}
                    </div>
                  </div>
                </td>

                <td class="value-strong" style="color: var(--primary-600);">
                  {{ row.P|default:"0"|floatformat:2 }} Ø±.Ø³
                </td>

                <td class="text-muted">
                  {{ row.fee|default:"0"|floatformat:2 }} Ø±.Ø³
                </td>

                <td class="value-strong" style="color: var(--primary-700); font-weight: 800;">
                  {{ row.net_for_employee|default:"0"|floatformat:2 }} Ø±.Ø³
                </td>

                {# Ø­Ø§Ù„Ø© ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ #}
                <td>
                  {% if row.invoice_status == 'paid' %}
                    <span class="badge badge-verified">ğŸ’° Ù…Ø¯ÙÙˆØ¹Ø©</span>
                  {% elif row.invoice_status == 'unpaid' %}
                    <span class="badge badge-pending">â³ ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©</span>
                  {% else %}
                    <span class="badge badge-default">{{ inv.get_status_display|default:row.invoice_status }}</span>
                  {% endif %}
                </td>

                {# Ø­Ø§Ù„Ø© ØµØ±Ù Ø§Ù„Ù…ÙˆØ¸Ù #}
                <td>
                  {% if payout %}
                    {% if payout.status == 'paid' %}
                      <span class="badge badge-verified">âœ… ØªÙ… Ø§Ù„ØµØ±Ù</span>
                      <div class="text-muted" style="font-size: 0.75rem; margin-top: 0.25rem;">
                        Payout #{{ payout.id }}
                      </div>
                    {% elif payout.status == 'pending' %}
                      <span class="badge badge-pending">ğŸ”„ Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØµØ±Ù</span>
                      <div class="text-muted" style="font-size: 0.75rem; margin-top: 0.25rem;">
                        Payout #{{ payout.id }}
                      </div>
                    {% else %}
                      <span class="badge badge-default">{{ payout.get_status_display|default:payout.status }}</span>
                    {% endif %}
                  {% else %}
                    <span class="badge badge-default">ğŸ“ Ù„Ù… ÙŠÙÙ†Ø´Ø£</span>
                  {% endif %}
                </td>

                {# Ù…ÙˆØ¹Ø¯ Ø§Ù„ØµØ±Ù #}
                <td>
                  {% if row.held_reason %}
                    <span class="badge badge-rejected">âŒ Ù…Ø¬Ù…Ù‘Ø¯</span>
                    <div class="text-muted" style="font-size: 0.75rem; margin-top: 0.25rem;">
                      {{ row.held_reason }}
                    </div>
                  {% else %}
                    {% if row.ready_at %}
                      {% if row.eligible_now %}
                        <span class="badge badge-verified">ğŸ¯ Ù…ØªØ§Ø­ Ø§Ù„Ø¢Ù†</span>
                      {% else %}
                        <span class="badge badge-pending">ğŸ“… Ù‚Ø±ÙŠØ¨Ù‹Ø§</span>
                        <div class="text-muted" style="font-size: 0.75rem; margin-top: 0.25rem;">
                          {{ row.ready_at|date:"Y-m-d H:i" }}
                        </div>
                      {% endif %}
                    {% else %}
                      <span class="text-muted">â€”</span>
                    {% endif %}
                  {% endif %}
                </td>

                <td class="text-muted">
                  {% if inv.issued_at %}
                    {{ inv.issued_at|date:"Y-m-d" }}
                  {% else %}
                    â€”
                  {% endif %}
                </td>

                <td class="text-muted">
                  {% if inv.paid_at %}
                    {{ inv.paid_at|date:"Y-m-d" }}
                  {% else %}
                    â€”
                  {% endif %}
                </td>

              </tr>
              {% endwith %}
            {% empty %}
              <tr>
                <td colspan="10" class="text-center text-muted" style="padding: 3rem;">
                  <div class="empty-state">
                    <div class="empty-icon" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">ğŸ’¸</div>
                    <h4 style="color: var(--dark-600); margin-bottom: 0.5rem;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø³ØªØ­Ù‚Ø§Øª</h4>
                    <p style="color: var(--dark-500);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø³ØªØ­Ù‚Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</p>
                  </div>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      {# =================== Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø© =================== #}
      <div class="info-section profile-section" style="background: var(--primary-50); border-color: var(--primary-200); margin-top: 1.5rem;">
        <div class="card-section-title" style="color: var(--primary-700);">ğŸ’¡ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©</div>
        <div class="info-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; margin-top: 1rem;">
          <div class="info-item">
            <div class="info-icon">âœ…</div>
            <div class="info-content">
              <div class="info-title">Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®Ø¯Ù…Ø©</div>
              <div class="info-text">Ù‡ÙŠ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ù‚ØªØ±Ø­ (P) ÙÙŠ Ø§Ù„Ø§ØªÙØ§Ù‚ÙŠØ©</div>
            </div>
          </div>
          <div class="info-item">
            <div class="info-icon">â–</div>
            <div class="info-content">
              <div class="info-title">Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©</div>
              <div class="info-text">ØªÙØ®ØµÙ… Ù…Ù† Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®Ø¯Ù…Ø© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ù†ØµØ©</div>
            </div>
          </div>
          <div class="info-item">
            <div class="info-icon">ğŸ’°</div>
            <div class="info-content">
              <div class="info-title">Ø§Ù„ØµØ§ÙÙŠ</div>
              <div class="info-text">P âˆ’ Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù…Ù†ØµÙ‘Ø© = ØµØ§ÙÙŠ Ù…Ø³ØªØ­Ù‚Ùƒ</div>
            </div>
          </div>
          <div class="info-item">
            <div class="info-icon">â°</div>
            <div class="info-content">
              <div class="info-title">Ù…ÙˆØ¹Ø¯ Ø§Ù„ØµØ±Ù</div>
              <div class="info-text">Ø¨Ø¹Ø¯ {{ safety_days|default:3 }} Ø£ÙŠØ§Ù… Ù…Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙˆØ¨Ø´Ø±Ø· Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù†Ø²Ø§Ø¹</div>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>
</section>
{% endblock %}

{% block extra_scripts %}
  {{ block.super }}
  <script>
  (function () {
    // ØªÙ‡ÙŠØ¦Ø© ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ØªÙ…Ø±ÙŠØ±
    if (typeof initScrollReveal === 'function') {
      initScrollReveal();
    }

    // ØªØ£Ø«ÙŠØ±Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ©
    document.querySelectorAll('.profile-section').forEach((card, index) => {
      card.style.animationDelay = `${index * 0.1}s`;
      
      // ØªØ£Ø«ÙŠØ± hover Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ©
      if (card.querySelector('.stat-value')) {
        card.addEventListener('mouseenter', function() {
          this.style.transform = 'translateY(-5px)';
          this.style.boxShadow = 'var(--shadow-lg)';
        });
        
        card.addEventListener('mouseleave', function() {
          this.style.transform = 'translateY(0)';
          this.style.boxShadow = '';
        });
      }
    });

    // ØªØ£Ø«ÙŠØ±Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
    document.querySelectorAll('.btn').forEach(button => {
      button.addEventListener('click', function() {
        if (typeof animateButtonClick === 'function') {
          animateButtonClick(this);
        }
      });
    });

    // ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨Ø© Ø§Ù„ÙÙ„Ø§ØªØ±
    const filterForm = document.querySelector('.filter-form');
    if (filterForm) {
      const inputs = filterForm.querySelectorAll('input, select');
      inputs.forEach(input => {
        input.addEventListener('change', function() {
          // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ØªØºÙŠÙŠØ±
          this.style.borderColor = 'var(--primary-500)';
          setTimeout(() => {
            this.style.borderColor = '';
          }, 500);
        });
        
        input.addEventListener('focus', function() {
          this.style.boxShadow = '0 0 0 3px rgba(34, 197, 94, 0.1)';
        });
        
        input.addEventListener('blur', function() {
          this.style.boxShadow = '';
        });
      });
    }

    // ØªØ£Ø«ÙŠØ±Ø§Øª Ø¹Ù„Ù‰ ØµÙÙˆÙ Ø§Ù„Ø¬Ø¯ÙˆÙ„
    document.querySelectorAll('.table-clean tbody tr').forEach(row => {
      row.addEventListener('mouseenter', function() {
        this.style.background = 'var(--primary-50)';
      });
      
      row.addEventListener('mouseleave', function() {
        this.style.background = '';
      });
    });

    // ØªØ­Ø¯ÙŠØ« Ø­ÙŠÙˆÙŠ Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    function updateStatsAnimation() {
      const statValues = document.querySelectorAll('.stat-value');
      statValues.forEach(stat => {
        // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ø±Ù‚Ù…ÙŠØ© Ù…ØªØ­Ø±ÙƒØ© Ù‡Ù†Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§
        stat.style.animation = 'pulse 0.5s ease-in-out';
        setTimeout(() => {
          stat.style.animation = '';
        }, 500);
      });
    }

    // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„Ø§ØªØ±
    const applyButton = document.querySelector('.filter-form .btn');
    if (applyButton) {
      applyButton.addEventListener('click', function() {
        updateStatsAnimation();
      });
    }

  })();
  </script>

  <style>
  .employee-dues-page .filter-grid {
    grid-template-columns: repeat(6, 1fr);
  }

  .employee-dues-page .form-field {
    margin-bottom: 0;
  }

  .employee-dues-page .form-label {
    display: block;
    font-weight: 600;
    color: var(--dark-700);
    margin-bottom: 0.5rem;
    font-size: 0.95rem;
  }

  .employee-dues-page .input {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 1px solid var(--dark-300);
    border-radius: var(--radius-lg);
    background: var(--white);
    font-family: inherit;
    font-size: 1rem;
    transition: var(--transition);
  }

  .employee-dues-page .input:focus {
    outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
  }

  .employee-dues-page .form-actions {
    margin-top: 1rem;
    text-align: left;
  }

  .employee-dues-page .stats-grid {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  }

  .employee-dues-page .table-wrapper {
    overflow-x: auto;
    border-radius: var(--radius-lg);
    border: 1px solid var(--dark-200);
  }

  .employee-dues-page .table-clean {
    width: 100%;
    border-collapse: collapse;
  }

  .employee-dues-page .table-clean th {
    background: var(--dark-50);
    color: var(--dark-700);
    font-weight: 600;
    padding: 1rem;
    text-align: right;
    border-bottom: 1px solid var(--dark-200);
    white-space: nowrap;
  }

  .employee-dues-page .table-clean td {
    padding: 1rem;
    border-bottom: 1px solid var(--dark-100);
    vertical-align: middle;
    transition: var(--transition);
  }

  .employee-dues-page .table-clean tr:last-child td {
    border-bottom: none;
  }

  .employee-dues-page .table-cell-main {
    min-width: 150px;
  }

  .employee-dues-page .table-cell-title {
    font-weight: 600;
    color: var(--dark-900);
    margin-bottom: 0.25rem;
  }

  .employee-dues-page .value-strong {
    font-weight: 700;
    color: var(--dark-900);
  }

  .employee-dues-page .text-muted {
    color: var(--dark-500);
  }

  .employee-dues-page .text-center {
    text-align: center;
  }

  .employee-dues-page .empty-state {
    padding: 2rem;
  }

  .employee-dues-page .empty-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    opacity: 0.5;
  }

  .employee-dues-page .info-grid {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }

  .employee-dues-page .info-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1rem;
    background: var(--white);
    border-radius: var(--radius-lg);
    border: 1px solid var(--primary-200);
  }

  .employee-dues-page .info-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
  }

  .employee-dues-page .info-content {
    flex: 1;
  }

  .employee-dues-page .info-title {
    font-weight: 600;
    color: var(--primary-700);
    margin-bottom: 0.25rem;
  }

  .employee-dues-page .info-text {
    color: var(--primary-600);
    font-size: 0.875rem;
    line-height: 1.4;
  }

  @media (max-width: 1024px) {
    .employee-dues-page .filter-grid {
      grid-template-columns: repeat(3, 1fr);
    }
    
    .employee-dues-page .form-field:last-child {
      grid-column: span 3;
    }
  }

  @media (max-width: 768px) {
    .employee-dues-page .filter-grid {
      grid-template-columns: 1fr;
    }
    
    .employee-dues-page .form-field:last-child {
      grid-column: span 1;
    }
    
    .employee-dues-page .stats-grid {
      grid-template-columns: 1fr;
    }
    
    .employee-dues-page .table-wrapper {
      font-size: 0.875rem;
    }
    
    .employee-dues-page .info-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 480px) {
    .employee-dues-page .card-header-row {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
    }
    
    .employee-dues-page .table-clean th,
    .employee-dues-page .table-clean td {
      padding: 0.75rem 0.5rem;
    }
  }

  /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ© */
  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .employee-dues-page .scroll-reveal {
    animation: fadeInUp 0.6s ease-out;
  }
  </style>
{% endblock %}