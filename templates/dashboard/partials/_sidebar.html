{# dashboard/templates/dashboard/partials/_sidebar.html #}

{# Ø±ÙˆØ§Ø¨Ø· Ø¢Ù…Ù†Ø© Ø­ØªÙ‰ Ù„Ùˆ ØºØ§Ø¨ Ù…Ø³Ø§Ø± #}
{% url 'dashboard:admin_dashboard' as dash_url %}
{% url 'dashboard:requests_list' as req_url %}
{% url 'finance:home' as fin_home_url %}
{% url 'finance:invoice_list' as inv_url %}
{% url 'marketplace:offers_list' as off_url %}
{% url 'agreements:list' as ag_url %}
{% url 'disputes:list' as dis_url %}
{% url 'dashboard:clients_list' as cli_url %}
{% url 'dashboard:employees_list' as emp_url %}
{% url 'notifications:list' as noti_url %}

{% with appn=request.resolver_match.app_name urln=request.resolver_match.url_name %}
<nav class="sb">

  {# ===== Ù…Ø¬Ù…ÙˆØ¹Ø© Ø³Ø±ÙŠØ¹Ø© Ø£Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± ===== #}
  <div class="sb-quick">
    <a href="/" class="sb-quick-link" title="Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
      <span class="sb-ico">ğŸ </span>
      <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
    </a>

    {# âœ… Ø§Ù„Ù…Ø§Ù„ÙŠØ© ØªØ°Ù‡Ø¨ Ø¥Ù„Ù‰ finance/home.html Ø¹Ø¨Ø± finance:home #}
    {% if fin_home_url %}
      <a href="{{ fin_home_url }}" class="sb-quick-link" title="Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©">
        <span class="sb-ico">ğŸ’°</span>
        <span>Ø§Ù„Ù…Ø§Ù„ÙŠØ©</span>
      </a>
    {% endif %}
  </div>

  {# ===== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØµÙ‘Ø© ===== #}
  <div class="sb-section">
    <div class="sb-section-title">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØµÙ‘Ø©</div>

    {% if dash_url %}
      <a href="{{ dash_url }}" class="sb-link{% if appn == 'dashboard' %}{% if urln == 'admin_dashboard' %} active{% endif %}{% endif %}">
        <i class="fa fa-gauge"></i>
        <span>Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©</span>
      </a>
    {% endif %}

    {% if req_url %}
      <a href="{{ req_url }}" class="sb-link{% if appn == 'dashboard' %}{% if urln == 'requests_list' %} active{% endif %}{% endif %}">
        <i class="fa fa-list"></i>
        <span>Ø§Ù„Ø·Ù„Ø¨Ø§Øª</span>
      </a>
    {% endif %}

    {% if off_url %}
      <a href="{{ off_url }}" class="sb-link{% if appn == 'marketplace' %}{% if urln == 'offers_list' %} active{% endif %}{% endif %}">
        <i class="fa fa-handshake"></i>
        <span>Ø§Ù„Ø¹Ø±ÙˆØ¶</span>
      </a>
    {% endif %}

    {% if ag_url %}
      <a href="{{ ag_url }}" class="sb-link{% if appn == 'agreements' %} active{% endif %}">
        <i class="fa fa-file-signature"></i>
        <span>Ø§Ù„Ø§ØªÙØ§Ù‚ÙŠØ§Øª</span>
      </a>
    {% endif %}

    {# Ø§Ù„ÙÙˆØ§ØªÙŠØ± ØªØ¸Ù„ Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ± #}
    {% if inv_url %}
      <a href="{{ inv_url }}" class="sb-link{% if appn == 'finance' %}{% if urln == 'invoice_list' %} active{% endif %}{% endif %}">
        <i class="fa fa-receipt"></i>
        <span>Ø§Ù„ÙÙˆØ§ØªÙŠØ±</span>
      </a>
    {% endif %}

    {% if dis_url %}
      <a href="{{ dis_url }}" class="sb-link{% if appn == 'disputes' %} active{% endif %}">
        <i class="fa fa-scale-balanced"></i>
        <span>Ø§Ù„Ù†Ø²Ø§Ø¹Ø§Øª</span>
      </a>
    {% endif %}
  </div>

  {# ===== Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† ===== #}
  <div class="sb-section mt-2">
    <div class="sb-section-title">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</div>

    {% if cli_url %}
      <a href="{{ cli_url }}" class="sb-link{% if appn == 'dashboard' %}{% if urln == 'clients_list' %} active{% endif %}{% endif %}">
        <i class="fa fa-user-group"></i>
        <span>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</span>
      </a>
    {% endif %}

    {% if emp_url %}
      <a href="{{ emp_url }}" class="sb-link{% if appn == 'dashboard' %}{% if urln == 'employees_list' %} active{% endif %}{% endif %}">
        <i class="fa fa-users-gear"></i>
        <span>Ø§Ù„Ù…ÙˆØ¸ÙÙˆÙ†</span>
      </a>
    {% endif %}
  </div>

  {# ===== Ø§Ù„Ù†Ø¸Ø§Ù… ===== #}
  <div class="sb-section mt-2">
    <div class="sb-section-title">Ø§Ù„Ù†Ø¸Ø§Ù…</div>

    {% if noti_url %}
      <a href="{{ noti_url }}" class="sb-link{% if appn == 'notifications' %} active{% endif %}">
        <i class="fa fa-bell"></i>
        <span>Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</span>
      </a>
    {% endif %}
  </div>

  <div class="sb-footer">
    <div class="sb-footer-title">SamiLink</div>
    <div class="sb-footer-sub">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</div>
  </div>

</nav>
{% endwith %}


<style>
.sb{display:flex;flex-direction:column;gap:12px}

.sb-quick{display:grid;gap:8px;margin-bottom:6px}
.sb-quick-link{
  display:flex;align-items:center;gap:.6rem;
  background:rgba(255,255,255,.06);
  color:#e2e8f0;padding:.6rem .75rem;border-radius:.9rem;
  font-weight:700;text-decoration:none;transition:all .18s ease;
  border:1px solid rgba(255,255,255,.06)
}
.sb-quick-link:hover{background:rgba(255,255,255,.12);color:#fff;transform:translateY(-1px)}
.sb-ico{font-size:1.1rem}

.sb-section{display:flex;flex-direction:column;gap:4px}
.sb-section-title{
  font-size:.82rem;color:#94a3b8;font-weight:800;letter-spacing:.3px;
  margin:.35rem .35rem .15rem
}

.sb-link{
  display:flex;align-items:center;gap:.65rem;
  padding:.65rem .85rem;border-radius:.85rem;
  color:#cbd5e1;text-decoration:none;font-weight:700;
  transition:all .18s ease;border:1px solid transparent;
  position:relative
}
.sb-link i{width:22px;text-align:center;color:#94a3b8;transition:all .18s ease}
.sb-link:hover{
  background:#141b2b;color:#fff;border-color:rgba(255,255,255,.06);
  transform:translateX(-2px)
}
.sb-link:hover i{color:#fff}

.sb-link.active{
  background:#111827;color:#fff;border-color:rgba(255,255,255,.08);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.06)
}
.sb-link.active i{color:#fff}
.sb-link.active::before{
  content:"";position:absolute;right:-6px;top:10px;bottom:10px;width:4px;
  border-radius:999px;background:#a5b4fc;
}

.sb-footer{
  margin-top:auto;padding:10px 8px;border-top:1px dashed rgba(255,255,255,.08);
  color:#94a3b8;text-align:center
}
.sb-footer-title{font-weight:900;color:#e2e8f0}
.sb-footer-sub{font-size:.8rem}

@media (max-width:768px){
  .sb-link{padding:.7rem .9rem}
}
</style>
